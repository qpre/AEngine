/* The A-Engine Core: 1395695400599 */var AE={AEEvent:{},AEGamePhase:{},AEIdFactory:{},AEMVC:{},AEMessageBox:{},AEObject:{},AESingleton:{},AEWorker:{}};(function(){var a,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a.AESingleton.AESingleton=function(){function a(){}return a._instance=null,a.getInstance=function(){return this._instance||(this._instance=new this)},a}(),a.AEIdFactory.AEIdFactory=function(a){function b(){this._guids=[]}return d(b,a),b.prototype._guids=null,b.prototype.has=function(a){return this._guids.indexOf(a.toString())>-1?!0:!1},b.prototype.getGUID=function(){var a;return a=this.guid(),this.has(a)?a=this.getGUID():this._guids.push(a),a},b.prototype.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},b.prototype.guid=function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()},b}(a.AESingleton.AESingleton),a.AEObject.AEObject=function(){function a(){this._guid=AEIdFactory.getInstance().getGUID()}return a.prototype._guid=null,a.prototype.init=function(){},a.prototype.guid=function(){return this._guid},a.create=function(){var a,b;return a=this,b=new a,arguments.length>0?b.init(arguments):b.init(),b},a}(),a=window.AE={},a.AEEvent.AEEvent=function(){function a(a){this._sender=a,this._subscribers=[]}return a.prototype._subscribers=null,a.prototype._sender=null,a.prototype.subscribe=function(a){return this._subscribers.push(a)},a.prototype.notify=function(a){var b,c,d,e;for(e=[],b=c=0,d=this._subscribers.length-1;d>=c;b=c+=1)e.push(this._subscribers[b](this._sender,a));return e},a}(),b=Object.freeze({ACTIVE:0,PAUSED:1}),a.AEGamePhase.AEGamePhase=function(a){function c(a,b,c,d){this._name=a,this._in=b,this._out=c,this._run=d,this._statusChangedEvent=new AEEvent(this),this._statusChangedEvent.subscribe(this.onStatusChanged)}return d(c,a),c.prototype._status=b.PAUSED,c.prototype._statusChangedEvent=null,c.prototype.notifyStatusChanged=function(){return this._statusChangedEvent.notify({status:this._status})},c.prototype.onStatusChanged=function(a,b){return console.log("status changed to :"+b.status)},c.prototype.setActive=function(){return this._status=b.ACTIVE,this.notifyStatusChanged()},c.prototype.setUnactive=function(){return this._status=b.PAUSED,this.notifyStatusChanged()},c.prototype["in"]=function(){return this._in()},c.prototype.out=function(){return this._out()},c.prototype.run=function(){return this._run()},c}(a.AEObject.AEObject),a.AEGamePhase.AEGamePhaseManager=function(a){function b(){this._phases={}}return d(b,a),b.prototype._phases=null,b.prototype._current=null,b.prototype.has=function(a){return this._phases.hasOwnProperty(a)?!0:!1},b.prototype.addPhase=function(a,b,c,d){return this.has(a)?console.error("Phase "+a+" already exists"):this._phases[a]=new AEGamePhase(a,b,c,d)},b.prototype.setCurrent=function(a){return this.has(a.toString())?(this._current=this._phases[a],this._current.setActive(),this._current["in"](),this._current.run()):console.error("No such phase: "+a)},b.prototype.transitionTo=function(a){return null===this._current?console.error("No current phase was set, can't transit from nowhere"):(this._current.out(),this._current.setUnactive(),this.setCurrent(a))},b}(a.AESingleton.AESingleton),a.AEMVC.AEController=function(){function a(){}return a.prototype.init=function(){},a}(),a.AEMVC.AEModel=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return d(b,a),b.prototype._propertyChangedEvent=null,b.prototype.init=function(){return this._propertyChangedEvent=new AEEvent(this)},b.prototype.get=function(a){return this[a]},b.prototype.set=function(a,b){return this[a]=b,this.notifyPropertyChanged(a)},b.prototype.notifyPropertyChanged=function(a){return this._propertyChangedEvent.notify({property:a})},b}(a.AEObject.AEObject),a.AEMVC.AEView=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return d(b,a),b.prototype.init=function(){},b}(a.AEObject.AEObject)}).call(this);